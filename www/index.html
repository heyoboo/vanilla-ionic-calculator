<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <meta name="color-scheme" content="light" />

    <title>test</title>

    <link rel="manifest" href="./manifest.json">

    <script type="module" src="https://cdn.jsdelivr.net/npm/@ionic/core/dist/ionic/ionic.esm.js"></script>
    <script nomodule src="https://cdn.jsdelivr.net/npm/@ionic/core/dist/ionic/ionic.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@ionic/core/css/ionic.bundle.css" />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@900&display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="./css/login-global.css">
    <link rel="stylesheet" href="./css/login-faceID.css" />
</head>

<body>
    <ion-page>
        <ion-content class="ion-padding">
            <div class="login-wrapper">
                <div class="login-logo"></div>
                <div class="face-id" onclick="animateFace()">
                    <div class="face-id-icon"></div>
                    <div class="face-id-txt">Face ID</div>
                </div>
                <a href="./login-form.html" class="login-alt">Login with Password</a>
            </div>
        </ion-content>
    </ion-page>


    <script>
        var face = document.querySelector(".face-id-icon");

        function animateFace() {
            console.log(window.location);
            face.classList.add("face-animation");
            setTimeout(check, 300);
            setTimeout(toKeypad, 1000);
        }

        function check() {
            face.classList.remove("face-animation");
            face.classList.add("check-mark");
        }

        function toKeypad() {
            window.location.replace("./order-details-keypad.html");
        }
    </script>

    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function () {
                navigator.serviceWorker.register('./sw.js').then(function (registration) {
                    // Registration was successful
                    console.log('ServiceWorker registration successful with scope: ', registration.scope);
                }).catch(function (err) {
                    // registration failed :(
                    console.log('ServiceWorker registration failed: ', err);
                });
            });
        }
    </script>
</body>

</html>
